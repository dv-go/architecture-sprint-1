```
# Mesto (реализованы уровни 1 и 2 задания)
# Ссылка на вторую часть задания: https://drive.google.com/file/d/11O8JLkij--Rd0rRkzOz5K-sF1roZQBMc/view?usp=sharing

Mesto — это веб-приложение для обмена фотографиями и взаимодействия с другими пользователями через лайки и комментарии. В приложении реализованы микрофронтенды, что позволяет легко масштабировать и развивать различные функции независимо друг от друга.

## Микрофронтенды

Мы выделили следующие микрофронтенды, каждый из которых соответствует одной из основных функций приложения:

1. **MainApp**
   - Включает компоненты:
     - `App.js`
     - `Footer.js`
     - `Header.js`
     - `ImagePopup.js`
     - `InfoTooltip.js`
     - `Main.js`
     - `PopupWithForm.js`
     - `ProtectedRoute.js`
     - `api.js` (утилита)
     - `CurrentUserContext.js`
   - Основной микрофронтенд, управляющий и координирующий другие микрофронтенды.

2. **AddPhoto**
   - Включает компонент:
     - `AddPlacePopup.js`
   - Отвечает за добавление фотографий.

3. **DeletePhoto**
   - Включает компонент:
     - `CardWithDelete.js` (ранее `Card.js`, отвечающий за удаление фотографий)
   - Отвечает за удаление фотографий.

4. **LikePhoto**
   - Включает компонент:
     - `CardWithLikes.js` (ранее `Card.js`, отвечающий за учет лайков)
   - Отвечает за сбор и учет лайков под фотографиями.

5. **ProfileManagement**
   - Включает компоненты:
     - `EditAvatarPopup.js`
     - `EditProfilePopup.js`
     - `Login.js`
     - `Register.js`
     - `auth.js` (утилита)
   - Отвечает за создание и редактирование профиля пользователя.

## Логика выбора между Module Federation и Single-SPA

При выборе подходящего фреймворка для организации микрофронтендов в проекте Mesto мы рассматривали два популярных варианта: **Module Federation** и **Single-SPA**.

### Module Federation

Мы выбрали **Module Federation** как основной способ организации микрофронтендов по следующим причинам:

1. **Использование одной технологии (React):** В проекте Mesto все микрофронтенды реализованы на React. **Module Federation** идеально подходит для таких случаев, поскольку он предоставляет легковесный механизм для разделения и динамической загрузки модулей, написанных на одной и той же технологии.

2. **Переиспользование компонентов:** В приложении Mesto некоторые компоненты должны быть доступны и переиспользуемы в нескольких микрофронтендах. **Module Federation** упрощает процесс разделения и совместного использования этих компонентов без значительной перестройки кода или архитектуры приложения. Ниже приведен список таких компонентов и микросервисов, где они могут быть использованы:

    - **Компонент Header.js** (расположен в MainApp) может быть использован в микросервисах ProfileManagement, AddPhoto, DeletePhoto, LikePhoto.
    - **Компонент Footer.js** (расположен в MainApp) может быть использован в микросервисах ProfileManagement, AddPhoto, DeletePhoto, LikePhoto.
    - **Компонент PopupWithForm.js** (расположен в MainApp) может быть использован в микросервисах AddPhoto, DeletePhoto, ProfileManagement.
    - **Компонент ImagePopup.js** (расположен в MainApp) может быть использован в микросервисах AddPhoto, DeletePhoto.
    - **Компонент ProtectedRoute.js** (расположен в MainApp) может быть использован в микросервисах ProfileManagement.
    - **Компонент InfoTooltip.js** (расположен в MainApp) может быть использован в микросервисах ProfileManagement.
    - **Компонент CurrentUserContext.js** (расположен в MainApp) может быть использован в микросервисах ProfileManagement, AddPhoto, DeletePhoto, LikePhoto.

3. **Минимальные накладные расходы:** В отличие от более сложных фреймворков для микрофронтендов, таких как Single-SPA, **Module Federation** добавляет минимальные накладные расходы к проекту и позволяет более гибко управлять зависимостями между микрофронтендами.

### Single-SPA

**Single-SPA** представляет собой мощный фреймворк для организации микрофронтендов, особенно когда требуется интеграция приложений, написанных на разных технологиях (React, Angular, Vue.js и т.д.). Однако в нашем проекте:

1. **Одна технология (React):** Все микрофронтенды написаны на React, что делает использование **Single-SPA** избыточным, так как его основное преимущество заключается в объединении разных технологий.

2. **Упрощение структуры:** **Module Federation** позволяет сохранить простую и легковесную структуру приложения, в то время как **Single-SPA** добавил бы дополнительный уровень сложности, который не требуется в данном проекте.

На основе этих факторов, мы решили использовать **Module Federation** для организации микрофронтендов в проекте Mesto. В корневой директории каждого микрофронтенда создан файл `webpack.config.js` с конфигурацией **Module Federation**.

## Запуск приложения

### Установка зависимостей

Для начала установите все зависимости для каждого микрофронтенда. Например, для `MainApp`:

```bash
cd MainApp
npm install
```

Затем повторите этот процесс для каждого из остальных микрофронтендов: `AddPhoto`, `DeletePhoto`, `LikePhoto`, `ProfileManagement`.

### Запуск в режиме разработки

Для запуска приложения в режиме разработки выполните следующую команду в каждом микрофронтенде:

```bash
npm start
```

Каждый микрофронтенд будет запущен на своем локальном сервере, и вы сможете видеть изменения в режиме реального времени.

### Сборка приложения

Для сборки каждого микрофронтенда выполните команду:

```bash
npm run build
```

Это создаст оптимизированную версию приложения, готовую для деплоя.

## Разработка

При разработке нового функционала или изменении существующего соблюдайте следующие правила:

1. Поддерживайте четкое разделение функций между микрофронтендами.
2. Переиспользуйте компоненты, где это возможно, с помощью **Module Federation**.
3. Обязательно пишите и обновляйте тесты для каждого нового функционала.

## Работа с API

В проекте используется два основных файла для работы с API:

1. `auth.js` — отвечает за взаимодействие с сервером для авторизации и регистрации пользователей. Расположен в микрофронтенде `ProfileManagement`.
2. `api.js` — содержит методы для работы с данными пользователей и карточек. Расположен в микрофронтенде `MainApp`, но может быть использован другими микрофронтендами через **Module Federation**.

## Тестирование

Для тестирования используйте команду:

```bash
npm test
```

Тесты должны быть написаны для каждого микрофронтенда и покрывать ключевые функции и компоненты.

## Контрибьюция

Если вы хотите внести вклад в проект Mesto, следуйте этим шагам:

1. Форкните репозиторий.
2. Создайте новую ветку (`git checkout -b feature/YourFeature`).
3. Сделайте ваши изменения и закоммитьте их (`git commit -m 'Add YourFeature'`).
4. Запушьте ветку на ваш форк (`git push origin feature/YourFeature`).
5. Создайте Pull Request.

---

Этот файл `README.md` описывает структуру микрофронтендов в проекте Mesto, логические обоснования выбора технологии для их организации, а также инструкции по запуску, разработке и контрибьюции.
```
